<html>
<head>
	<title>Inari Level Editor</title>

	<link href="http://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css" rel="stylesheet">
	<link rel="icon" href="img/inari-favicon.ico">
	<link rel="stylesheet" type="text/css" href="styles/default.css">

	<script type="text/javascript" src = "//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js">
	</script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js">
	</script>
	<script type="text/javascript" src="2D.js">
	</script>
	<script type="text/javascript" src = "fabric.js">
	</script>
	<script type="text/javascript" src = "levelEditor.js">
	</script>
</head>

<body>
	<!-- HOTKEY OVERLAY -->
	<div id="instructionOverlay" class="hidden">
		<div id="instructionBox" class="hidden">
			<button id="closeInstructions" class="instructionButton">
				&#10799
			</button>
			<div id="instructionTitle">
				Hotkeys
			</div>
			<table id="hotkeyTable">
				<tr id="hotkeyTableRow1">
					<td>ACTION</td>
					<td>KEY</td>
					<td>NOTE</td>
				</tr>
				<tr class="">
					<td>Toggle Draw Mode</td>
					<td>E</td>
					<td>No Active Input Field*</td>
				</tr>
				<tr class="">
					<td>Toggle Grid Snapping</td>
					<td>Q</td>
					<td>No Active Input Field*</td>
				</tr>
				<tr class="">
					<td>Toggle Side Bar</td>
					<td>R</td>
					<td>No Active Input Field*</td>
				</tr>
				<tr class="newHotkey update">
					<td>Pan Canvas</td>
					<td>WASD**</td>
					<td>No Active Input Field*</td>
				</tr>
				<tr>
					<td>Zoom Canvas</td>
					<td>Mouse Wheel</td>
					<td>Mouse Over Canvas</td>
				</tr>
			</table>
			<div id="hotkeyTableAsterisk">
				* 'No Active Input Field' : Typing in an input field (e.g. save file name) will not trigger hotkeys.
				<br>
				** Combine keys for diagonal panning.
			</div>
			<div>
				After dismissing, show these instructions again by clicking on Inari icon.
			</div>
			<div id="externalHelp">
				<a href="https://drive.google.com/open?id=1cmZAu6dNqE9ho9_6Xd1FLCAPrhpu1t4RRgBajCSg1SU" target="_blank">
					<button class="instructionButton">
						More Information
					</button>
				</a>
			</div>
		</div>
	</div>
	<!-- TOP SECTION -->
	<div id="topWrapper">
		<!-- TITLE -->
		<div class="titleWrapper">
			<img id="icon" src="img/inari-icon-rounded.png" alt="Inari Icon" title="Need Halp? Click me."/>
			<div id="titleTextWrapper">
				<div class="title">
					Inari Level Editor
				</div>
				<div class="titleSmall">
					Ask Inari (left) for help!
				</div>
			</div>
		</div>

		<!-- SAVE/LOAD FILES -->
		<div id = "fileToolbar">
			<div class="fileToolbarBlock">
				<input type="file" id="fileinput"/>
		        <input type='button' id='btnLoad' value='Load Level'>
	    	</div>
	    	<div class = "fileToolbarBlock">
	        	<input type="text" id="levelName" placeholder="saveFile.json">
	        	<input type="button" id="btnSave" value="Save Level">
	    	</div>
	    </div>

	    <!-- CANVAS PARAM TAB CONTROLLER -->
	    <div id = "tabGroup">
			<div id = "tabA" class = "tab active">
				<!-- <div class= "tabDivider"></div> -->
				A
			</div>
			<div id = "tabB" class = "tab">
				<!-- <div class= "tabDivider"></div> -->
				B
			</div>
			<div id = "tabC" class = "tab">
				C
			</div>
		</div>

	    <!-- TAB A -->
		<div id="canvasParamA" class="canvasParam">
			<!-- LEVEL PROPS -->
			<div class = "block" id = "worldGridWrapper">
				<div>
					World:
					<input type="text" class="worldInput" id="worldWidth" placeholder="meters"/>
					x
					<input type="text" class="worldInput" id="worldHeight" placeholder="meters"/>
				</div>
				<div>
					Level Type:
					<select id="levelTypeSelect">
					</select>
				</div>
			</div>
			<div class = "block">
				<div> Left Level: <input type="text" id="leftLevel" placeholder="previousLevel.json" />
				</div>
				<div> Right Level: <input type="text" id="rightLevel" placeholder="nextLevel.json" />
				</div>
			</div>
		</div>

		<!-- TAB B -->
		<div id="canvasParamB" class="canvasParam">
			<!-- DRAW MODE -->
			<div class = "block" id = "drawToolWrapper">
				<div>
					<button id="drawing-mode">Drawing Mode: OFF</button>
				</div>
				<div id="drawing-mode-options">
					Tile Set: <select id="drawing-mode-selector">
					</select>
				</div>
			</div>
			<!-- SNAP -->
			<div class = "block">
				<div id = "snapWrapper">
					<button id="snapToGrid">Grid Snapping: OFF</button>
				</div>
			</div>
		</div>

		<!-- TAB C -->
		<div id="canvasParamC" class="canvasParam">
			<!-- SHOW/HIDE ELEMENTS -->
			<div id="hideTools">
			</div>
		</div>
	  </div>

    <!-- MAIN BODY: CANVAS + TOOLS -->
	<div class="wrapper">
		<div id = "zoomWrapper">
			<div id="zoomTitle" title = "Scroll with Mouse Wheel">Zoom</div>
			<div id = "sliderWrapper" title = "Scroll with Mouse Wheel">
				<div id="slider"></div>
			</div>
		</div>
		<!-- CANVAS -->
		<div id="canvas">
			<canvas id="myCanvas" width="900" height="800" style="border:1px solid #ccc;">
			</canvas>
		</div>
		<!-- TOOLS -->
		<div class="toolWrapper">
			<div id="toolToggler">
				<div id="arrow"></div>
			</div>
			<!-- TOOL 1: TILE SETS -->
			<div id="tilesetWrapper">
				<div class="tools">
					<div class="bartitle">
						Object Selection
					</div>
					<div id="toolbar">
						<select id = "categoryTool">
							<option>Loading</option>
						</select>
						<select id = "subcategoryTool">
							<option>Loading</option>
						</select>
					</div>
				</div>

				<div class="toolPopulate">
					<div class="toolPopulateCanvas">
						Tool Populate
					</div>
				</div>
			</div>
			<!-- TOOL 2: OBJECT PROPERTIES -->
			<div id="propertiesWrapper">
				<div class = "helperTool">
					<div class="bartitle">
						Object Properties
					</div>
				
					<div id="selector">
						<div id="selectbar">
							<select id = "categorySelect">
								<option>Loading</option>
							</select>
							<select id = "subcategorySelect">
								<option>Loading</option>
							</select>
						</div>
					</div>
				</div>

				<div class="selectPopulate">
					<div class="selectPopulateCanvas">
					Select Populate
					</div>
				</div>
			</div>
		</div>

	</div>	
</body>
</html>